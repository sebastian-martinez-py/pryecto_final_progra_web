<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Adopta CR — Comunidad de Adopción y Mascotas Perdidas</title>
  <link rel="stylesheet" href="/static/css/styles.css?v=2" />
  <link rel="icon" href="/static/favicon.ico">
  <meta name="description" content="Comunidad de adopción de perros y reporte de mascotas perdidas.">
</head>
<body>
  <header>
    <div class="hero">
      <div class="inner">
        <span class="badge">🐶 Comunidad • Adopción • Mascotas Perdidas</span>
        <h1 class="title">Adopta CR</h1>
        <p class="lead">Somos una comunidad que conecta <strong>familias amorosas</strong> con perritos en busca de hogar y ayuda a <strong>reunir mascotas perdidas</strong> con sus dueños. Publica, adopta, comparte. 💚</p>
        <div class="cta-row">
          <button class="btn btn-primary" id="ctaAdoptar">Quiero adoptar</button>
          <button class="btn btn-secondary" id="ctaPerdido">Reportar mascota perdida</button>
        </div>
      </div>
    </div>

    <!-- Tabs -->
    <nav class="tabs">
      <div class="container tabs-inner">
        <button class="tab active" data-tab="principal">Principal</button>
        <button class="tab" data-tab="buscar">Buscar/Editar contacto</button>
        <a class="tab link" href="/docs" target="_blank">Swagger /docs</a>
      </div>
    </nav>
  </header>

  <main class="container">
    <!-- PRINCIPAL -->
    <section class="panels tab-panel" id="tab-principal">
      <div class="panel" id="about">
        <h2>¿Quiénes somos?</h2>
        <p class="muted">Adopta CR es un proyecto comunitario para <strong>adopción responsable</strong> y <strong>reporte de mascotas perdidas</strong>. Aquí puedes publicar tu aviso de pérdida con foto, o descubrir perritos listos para encontrar un hogar. También generamos fichas de adopción con una <em>API externa</em> de imágenes (Dog CEO) para dar visibilidad y dinamismo a la comunidad. 🐕‍🦺</p>
      </div>

      <!-- Acciones rápidas -->
      <div class="panel">
        <div class="row">
          <div class="grow">
            <h2>Acciones rápidas</h2>
            <p class="muted">Elige qué quieres hacer hoy.</p>
          </div>
          <div class="row">
            <button class="btn btn-primary" id="btnGenerar">🐶 Inventar perrito (API)</button>
            <button class="btn btn-secondary" id="btnPerdido">📢 Anunciar perdido</button>
          </div>
        </div>
      </div>

      <!-- Form perdido -->
      <div class="panel" id="panelPerdido" hidden>
        <h2>Reportar mascota perdida</h2>
        <form id="formPerdido" class="grid two">
          <div>
            <label>Nombre de la mascota</label>
            <input name="nombre" placeholder="Luna, Rocky, Toby..." required />
          </div>
          <div>
            <label>Zona / Cantón</label>
            <input name="zona" placeholder="San José, Montes de Oca..." required />
          </div>
          <div class="two" style="grid-column:1/-1">
            <label>Descripción</label>
            <textarea name="desc" placeholder="Se perdió el 20/08 cerca del parque. Lleva collar rojo, es muy dócil..."></textarea>
          </div>
          <div>
            <label>Imagen (URL)</label>
            <input name="img" placeholder="https://..." required />
          </div>
          <div>
            <label>Contacto (nombre)</label>
            <input name="contacto" placeholder="Tu nombre" required />
          </div>
          <div>
            <label>Teléfono / WhatsApp</label>
            <input name="tel" type="tel" pattern="\+?\d[\d\s-]{7,}" placeholder="+506 8888-8888" required />
          </div>
          <div>
            <label>Correo</label>
            <input type="email" name="mail" placeholder="alguien@correo.com" />
          </div>
          <div style="grid-column:1/-1;display:flex;gap:10px;align-items:center">
            <button type="submit" class="btn btn-primary">Publicar aviso</button>
            <span id="msgPerdido" class="muted"></span>
          </div>
        </form>
      </div>

      <!-- Listas -->
      <div class="panel" id="panelListas">
        <div class="row" style="justify-content:space-between;align-items:end">
          <div>
            <h2>Publicaciones</h2>
            <p class="muted">Explora adoptables y avisos de pérdidas publicados por la comunidad.</p>
          </div>
          <div class="row">
            <button class="btn btn-secondary" id="btnReload">Recargar</button>
          </div>
        </div>
        <div class="sep"></div>
        <h3>🐕 Adoptables</h3>
        <div class="cards" id="cardsAdoptables"></div>
        <div class="sep"></div>
        <h3>📢 Perdidos</h3>
        <div class="cards" id="cardsPerdidos"></div>
      </div>
    </section>

    <!-- BUSCAR/EDITAR CONTACTO -->
    <section class="panels tab-panel" id="tab-buscar" hidden>
      <div class="panel">
        <h2>Buscar y editar contacto por nombre de mascota</h2>
        <form id="formBuscar" class="row" style="gap:10px">
          <input id="qNombre" placeholder="Ej.: Luna, Rocky, Nala..." />
          <button class="btn btn-secondary" type="submit">Buscar</button>
        </form>
      </div>
      <div class="panel">
        <h3>Resultados</h3>
        <div id="resultados"></div>
      </div>
    </section>
  </main>

  <!-- Modal: Contactar (dejar mis datos) -->
  <dialog id="modalContacto">
    <div class="modal-head"><strong>Quiero adoptar</strong></div>
    <div class="modal-body">
      <form id="formInteres" class="grid">
        <input type="hidden" name="item_id" />
        <div>
          <label>Tu nombre</label>
          <input name="person_name" required />
        </div>
        <div>
          <label>Teléfono</label>
          <input name="phone" required />
        </div>
        <div>
          <label>Correo</label>
          <input type="email" name="email" />
        </div>
        <div>
          <label>Mensaje</label>
          <textarea name="message" placeholder="Me interesa darle hogar…"></textarea>
        </div>
        <div class="modal-actions">
          <button class="btn btn-secondary" type="button" id="cerrarModal">Cancelar</button>
          <button class="btn btn-primary" type="submit">Enviar interés</button>
        </div>
        <div class="help" id="msgInteres"></div>
      </form>
    </div>
  </dialog>

  <script type="module" defer src="/static/js/main.js?v=2"></script>
</body>
</html>
